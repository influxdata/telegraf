# Pull Metric Statistics from Aliyun RDS (Relational Database Service)
[[inputs.aliyunrds]]
  ## Aliyun Credentials
  ## Credentials are loaded in the following order
  ## 1) Ram RoleArn credential
  ## 2) AccessKey STS token credential
  ## 3) AccessKey credential
  ## 4) Ecs Ram Role credential
  ## 5) RSA keypair credential
  ## 6) Environment variables credential
  ## 7) Instance metadata credential

  # access_key_id = ""
  # access_key_secret = ""
  # access_key_sts_token = ""
  # role_arn = ""
  # role_session_name = ""
  # private_key = ""
  # public_key_id = ""
  # role_name = ""

  ## Specify ali cloud regions to be queried for metric and object discovery
  ## If not set, all supported regions (see below) would be covered, it can
  ## provide a significant load on API, so the recommendation here is to
  ## limit the list as much as possible.
  ## Allowed values: https://www.alibabacloud.com/help/zh/doc-detail/40654.htm
  ## Default supported regions are:
  ##   cn-qingdao,cn-beijing,cn-zhangjiakou,cn-huhehaote,cn-hangzhou,
  ##   cn-shanghai, cn-shenzhen, cn-heyuan,cn-chengdu,cn-hongkong,
  ##   ap-southeast-1,ap-southeast-2,ap-southeast-3,ap-southeast-5,
  ##   ap-south-1,ap-northeast-1, us-west-1,us-east-1,eu-central-1,
  ##   eu-west-1,me-east-1
  ##
  ## Discovery is automatically enabled for these regions to find RDS instances.
  regions = ["cn-hongkong"]

  ## Requested aggregation Period (required)
  ## The period must be multiples of 60s and the minimum for RDS metrics
  ## is 1 minute (60s). However not all metrics are made available to the
  ## one minute period. Some are collected at 5 minute or larger intervals.
  ## See: https://help.aliyun.com/document_detail/26316.html
  period = "5m"

  ## Collection Delay (required)
  ## The delay must account for metrics availability via RDS API.
  delay = "1m"

  ## Recommended: use metric 'interval' that is a multiple of 'period'
  ## to avoid gaps or overlap in pulled data
  interval = "5m"

  ## Maximum requests per second, default value is 200
  ratelimit = 200

  ## How often the discovery API call executed (default 1m)
  #discovery_interval = "1m"

  ## NOTE: Due to the way TOML is parsed, tables must be at the END of the
  ## plugin definition, otherwise additional config options are read as part of
  ## the table

  ## Metrics to Pull
  ## At least one metrics definition required
  [[inputs.aliyunrds.metrics]]
    ## Metric names to be requested from RDS Performance API
    ## Full list of available metrics can be found here:
    ## https://help.aliyun.com/document_detail/26316.html
    ## Common RDS metrics include:
    ##   - MySQL_Sessions (Active Sessions)
    ##   - MySQL_QPS (Queries Per Second)
    ##   - MySQL_TPS (Transactions Per Second)
    ##   - MySQL_IOPS (I/O Operations Per Second)
    ##   - MySQL_NetworkInNew (Network Input Traffic)
    ##   - MySQL_NetworkOutNew (Network Output Traffic)
    ##   - CpuUsage (CPU Usage)
    ##   - MemoryUsage (Memory Usage)
    ##   - DiskUsage (Disk Usage)
    ##   - ConnectionUsage (Connection Usage)
    names = ["MySQL_Sessions", "MySQL_QPS", "CpuUsage"]

    ## List of specific RDS instance IDs to monitor (optional)
    ## If not specified, all discovered instances in the configured regions will be monitored
    ## You can specify instance IDs to limit monitoring to specific instances:
    # instances = ["rm-xxxxx", "rm-yyyyy"]

    ## Discovery is enabled by default. All RDS instances in the configured regions
    ## will be discovered and monitored. Discovery data is used to enrich metrics
    ## with tags such as:
    ##   - RegionId
    ##   - DBInstanceType
    ##   - Engine
    ##   - EngineVersion
    ##   - DBInstanceDescription


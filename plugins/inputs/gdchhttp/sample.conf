[[inputs.gdch_http]]
data_format = "json_v2"

[inputs.gdch_http.auth]
## Path to the GDCH service account JSON key file
service_account_file = "/etc/telegraf/gdch-key.json"
audience = "https://{GDCH_URL}"
## Optional Time before token expiry to fetch a new one.
# token_expiry_buffer = "5m"

[inputs.gdch_http.auth.tls]
    insecure_skip_verify = true
    ## Optional TLS configuration for the token endpoint.
    # tls_ca = "/etc/telegraf/ca.pem"

## Embedded HTTP Input Plugin Configuration.
[inputs.gdch_http.http] 
## A list of URLs to pull data from.
urls = [
    "https://{GDCH_URL}/{PROJECT}/metrics"
]
## ... other http plugin options ...
package dcos

import (
	"fmt"
	"github.com/gorilla/mux"
	"github.com/influxdata/telegraf/internal"
	"github.com/influxdata/telegraf/testutil"
	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/require"
	"net"
	"net/http"
	"net/http/httptest"
	"os"
	"reflect"
	"strconv"
	"strings"
	"testing"
	"time"
)

// sample JSONS for cluster with 2 agents, 1 public agent without jobs, private agent with tree active apps/containters, tree inactive containers  (
var MESOS_MASTER_STATE_SUMMARY_JSON_OK = `{"hostname":"192.168.65.90","cluster":"dcos-vagrant","slaves":[{"id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","hostname":"127.0.0.1","port":9999999,"attributes":{},"pid":"slave(1)@127.0.0.1:5051","registered_time":1502176250.51955,"reregistered_time":1502176250.51985,"resources":{"disk":48393.0,"mem":5632.0,"gpus":0.0,"cpus":4.0,"ports":"[1025-2180, 2182-3887, 3889-5049, 5052-8079, 8082-8180, 8182-32000]"},"used_resources":{"disk":0.0,"mem":266.0,"gpus":0.0,"cpus":2.1,"ports":"[16721-16721, 18137-18137, 20497-20497]"},"offered_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"reserved_resources":{},"unreserved_resources":{"disk":48393.0,"mem":5632.0,"gpus":0.0,"cpus":4.0,"ports":"[1025-2180, 2182-3887, 3889-5049, 5052-8079, 8082-8180, 8182-32000]"},"active":true,"version":"1.2.1","TASK_STAGING":0,"TASK_STARTING":0,"TASK_RUNNING":3,"TASK_KILLING":0,"TASK_FINISHED":0,"TASK_KILLED":0,"TASK_FAILED":0,"TASK_LOST":0,"TASK_ERROR":0,"TASK_UNREACHABLE":0,"framework_ids":["a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001"]},{"id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S1","hostname":"localhost","port":9999999,"attributes":{"public_ip":"true"},"pid":"slave(1)@localhost:5051","registered_time":1502176250.10554,"reregistered_time":1502176250.10562,"resources":{"disk":48393.0,"mem":1024.0,"gpus":0.0,"cpus":2.0,"ports":"[1-21, 23-5050, 5052-32000]"},"used_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"offered_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"reserved_resources":{"slave_public":{"disk":48393.0,"mem":1024.0,"gpus":0.0,"cpus":2.0,"ports":"[1-21, 23-5050, 5052-32000]"}},"unreserved_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"active":true,"version":"1.2.1","TASK_STAGING":0,"TASK_STARTING":0,"TASK_RUNNING":0,"TASK_KILLING":0,"TASK_FINISHED":0,"TASK_KILLED":0,"TASK_FAILED":0,"TASK_LOST":0,"TASK_ERROR":0,"TASK_UNREACHABLE":0,"framework_ids":[]}],"frameworks":[{"id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","name":"marathon","pid":"scheduler-f34373eb-6c78-4347-b7ca-20a3c104dad3@192.168.65.90:15101","used_resources":{"disk":0.0,"mem":266.0,"gpus":0.0,"cpus":2.1,"ports":"[16721-16721, 18137-18137, 20497-20497]"},"offered_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"capabilities":["TASK_KILLING_STATE","GPU_RESOURCES","PARTITION_AWARE"],"hostname":"192.168.65.90","webui_url":"http:\/\/192.168.65.90:8080","active":true,"connected":true,"recovered":false,"TASK_STAGING":0,"TASK_STARTING":0,"TASK_RUNNING":3,"TASK_KILLING":0,"TASK_FINISHED":0,"TASK_KILLED":0,"TASK_FAILED":0,"TASK_LOST":0,"TASK_ERROR":0,"TASK_UNREACHABLE":0,"slave_ids":["b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0"]},{"id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0000","name":"metronome","pid":"scheduler-a55ffe5e-f468-4c61-8bf7-4f34f021171c@192.168.65.90:15201","used_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"offered_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"capabilities":[],"hostname":"192.168.65.90","webui_url":"http:\/\/192.168.65.90:9000","active":true,"connected":true,"recovered":false,"TASK_STAGING":0,"TASK_STARTING":0,"TASK_RUNNING":0,"TASK_KILLING":0,"TASK_FINISHED":0,"TASK_KILLED":0,"TASK_FAILED":0,"TASK_LOST":0,"TASK_ERROR":0,"TASK_UNREACHABLE":0,"slave_ids":[]}]}`
var AGENT_METRICS_JSON_OK = map[string]string{
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0": `{"datapoints":[{"name":"system.uptime","value":42457,"unit":"count","timestamp":"2017-08-08T13:14:55.293813024Z"},{"name":"cpu.cores","value":4,"unit":"count","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"cpu.total","value":1.35,"unit":"percent","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"cpu.user","value":0.83,"unit":"percent","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"cpu.system","value":0.52,"unit":"percent","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"cpu.idle","value":98.6,"unit":"percent","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"cpu.wait","value":0,"unit":"percent","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"load.1min","value":0.23,"unit":"count","timestamp":"2017-08-08T13:14:55.295350679Z"},{"name":"load.5min","value":0.13,"unit":"count","timestamp":"2017-08-08T13:14:55.295350679Z"},{"name":"load.15min","value":0.14,"unit":"count","timestamp":"2017-08-08T13:14:55.295350679Z"},{"name":"filesystem.capacity.total","value":53660876800,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.capacity.used","value":3048071168,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.capacity.free","value":50612805632,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.inode.total","value":26214400,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.inode.used","value":111584,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.inode.free","value":26102816,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.capacity.total","value":1063256064,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.capacity.used","value":144031744,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.capacity.free","value":919224320,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.inode.total","value":524288,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.inode.used","value":328,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.inode.free","value":523960,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.capacity.total","value":50432839680,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.capacity.used","value":93216768,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.capacity.free","value":50339622912,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.inode.total","value":24637440,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.inode.used","value":17,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.inode.free","value":24637423,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.capacity.total","value":53660876800,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.capacity.used","value":3048071168,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.capacity.free","value":50612805632,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.inode.total","value":26214400,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.inode.used","value":111584,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.inode.free","value":26102816,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"memory.total","value":6088818688,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"memory.free","value":5148024832,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"memory.buffers","value":970752,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"memory.cached","value":415162368,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"swap.total","value":2147479552,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"swap.free","value":2147479552,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"swap.used","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.in","value":614077,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.out","value":605619,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.in.packets","value":7675,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.out.packets","value":7386,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.in","value":152540929,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.out","value":181719668,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.in.packets","value":1155484,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.out.packets","value":1190033,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.in","value":648,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.out","value":648,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.in.packets","value":8,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.out.packets","value":8,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.in","value":648,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.out","value":648,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.in.packets","value":8,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.out.packets","value":8,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.in","value":338336992,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.out","value":338336992,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.in.packets","value":161857,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.out.packets","value":161857,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.in","value":2068,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.in.packets","value":31,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"process.count","value":215,"unit":"count","timestamp":"2017-08-08T13:14:55.31709865Z"}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","hostname":"127.0.0.1"}}`,
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S1": `{"datapoints":[{"name":"system.uptime","value":42571,"unit":"count","timestamp":"2017-08-08T13:15:42.174746448Z"},{"name":"cpu.cores","value":2,"unit":"count","timestamp":"2017-08-08T13:15:42.174762797Z"},{"name":"cpu.total","value":1.75,"unit":"percent","timestamp":"2017-08-08T13:15:42.174762797Z"},{"name":"cpu.user","value":1.05,"unit":"percent","timestamp":"2017-08-08T13:15:42.174762797Z"},{"name":"cpu.system","value":0.7,"unit":"percent","timestamp":"2017-08-08T13:15:42.174762797Z"},{"name":"cpu.idle","value":98.2,"unit":"percent","timestamp":"2017-08-08T13:15:42.174762797Z"},{"name":"cpu.wait","value":0,"unit":"percent","timestamp":"2017-08-08T13:15:42.174762797Z"},{"name":"load.1min","value":0.07,"unit":"count","timestamp":"2017-08-08T13:15:42.175804577Z"},{"name":"load.5min","value":0.1,"unit":"count","timestamp":"2017-08-08T13:15:42.175804577Z"},{"name":"load.15min","value":0.06,"unit":"count","timestamp":"2017-08-08T13:15:42.175804577Z"},{"name":"filesystem.capacity.total","value":53660876800,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/"}},{"name":"filesystem.capacity.used","value":2933518336,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/"}},{"name":"filesystem.capacity.free","value":50727358464,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/"}},{"name":"filesystem.inode.total","value":26214400,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/"}},{"name":"filesystem.inode.used","value":102516,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/"}},{"name":"filesystem.inode.free","value":26111884,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/"}},{"name":"filesystem.capacity.total","value":1063256064,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/boot"}},{"name":"filesystem.capacity.used","value":144031744,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/boot"}},{"name":"filesystem.capacity.free","value":919224320,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/boot"}},{"name":"filesystem.inode.total","value":524288,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/boot"}},{"name":"filesystem.inode.used","value":328,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/boot"}},{"name":"filesystem.inode.free","value":523960,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/boot"}},{"name":"filesystem.capacity.total","value":50432839680,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/home"}},{"name":"filesystem.capacity.used","value":93216768,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/home"}},{"name":"filesystem.capacity.free","value":50339622912,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/home"}},{"name":"filesystem.inode.total","value":24637440,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/home"}},{"name":"filesystem.inode.used","value":17,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/home"}},{"name":"filesystem.inode.free","value":24637423,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/home"}},{"name":"filesystem.capacity.total","value":53660876800,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.capacity.used","value":2933518336,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.capacity.free","value":50727358464,"unit":"bytes","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.inode.total","value":26214400,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.inode.used","value":102516,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.inode.free","value":26111884,"unit":"count","timestamp":"2017-08-08T13:15:42.175895086Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"memory.total","value":1569218560,"unit":"bytes","timestamp":"2017-08-08T13:15:42.17711664Z"},{"name":"memory.free","value":774668288,"unit":"bytes","timestamp":"2017-08-08T13:15:42.17711664Z"},{"name":"memory.buffers","value":970752,"unit":"bytes","timestamp":"2017-08-08T13:15:42.17711664Z"},{"name":"memory.cached","value":401747968,"unit":"bytes","timestamp":"2017-08-08T13:15:42.17711664Z"},{"name":"swap.total","value":2147479552,"unit":"bytes","timestamp":"2017-08-08T13:15:42.17711664Z"},{"name":"swap.free","value":2147479552,"unit":"bytes","timestamp":"2017-08-08T13:15:42.17711664Z"},{"name":"swap.used","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.17711664Z"},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"spartan"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"spartan"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"spartan"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"spartan"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"spartan"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"spartan"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"spartan"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"spartan"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"d-dcos"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"d-dcos"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"d-dcos"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"d-dcos"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"d-dcos"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"d-dcos"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"d-dcos"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"d-dcos"}},{"name":"network.in","value":609887,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s3"}},{"name":"network.out","value":605613,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s3"}},{"name":"network.in.packets","value":7634,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s3"}},{"name":"network.out.packets","value":7376,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s3"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s3"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s3"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s3"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s3"}},{"name":"network.in","value":151082776,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s8"}},{"name":"network.out","value":167048859,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s8"}},{"name":"network.in.packets","value":1155075,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s8"}},{"name":"network.out.packets","value":1179924,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s8"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s8"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s8"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s8"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"enp0s8"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"dummy0"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"dummy0"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"dummy0"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"dummy0"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"dummy0"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"dummy0"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"dummy0"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"dummy0"}},{"name":"network.in","value":114762945,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"lo"}},{"name":"network.out","value":114762945,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"lo"}},{"name":"network.in.packets","value":162185,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"lo"}},{"name":"network.out.packets","value":162185,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"lo"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"lo"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"lo"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"lo"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"lo"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"vtep1024"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"vtep1024"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"vtep1024"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"vtep1024"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"vtep1024"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"vtep1024"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"vtep1024"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"vtep1024"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"minuteman"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"minuteman"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"minuteman"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"minuteman"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"minuteman"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"minuteman"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"minuteman"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"minuteman"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"docker0"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"docker0"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"docker0"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"docker0"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"docker0"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"docker0"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"docker0"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:15:42.178760342Z","tags":{"interface":"docker0"}},{"name":"process.count","value":179,"unit":"count","timestamp":"2017-08-08T13:15:42.198454432Z"}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S1","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","hostname":"localhost"}}`,
}

var AGENT_CONTAINERS_JSON_OK = map[string]string{
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0": `["619e0c1a-a059-4801-ae60-75f022f89df7","762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","a7bcd1ca-484b-4d36-9439-6bef12dc9613","f942c669-6ed1-4864-ba96-20529710def5","f94cee4f-155d-430b-9d35-83441367820e"]`,
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S1": `[]`,
}
var MESOS_AGENT_CONTAINERS_JSON_OK = map[string]string{
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0": `[{"container_id": "619e0c1a-a059-4801-ae60-75f022f89df7","executor_id": "node-0_executor__42a35a5b-cc9c-49e3-82ff-61d6f382fb5a","executor_name": "node-0_executor","framework_id": "0a848cfa-be72-414e-8f3f-0912482827aa-0000","source": "","statistics": {"cpus_limit": 0.6,"cpus_nr_periods": 63667,"cpus_nr_throttled": 3596,"cpus_system_time_secs": 71.63,"cpus_throttled_time_secs": 242.161840229,"cpus_user_time_secs": 184.39,"mem_anon_bytes": 1674051584,"mem_cache_bytes": 10645504,"mem_critical_pressure_counter": 0,"mem_file_bytes": 10645504,"mem_limit_bytes": 2684354560,"mem_low_pressure_counter": 0,"mem_mapped_file_bytes": 532480,"mem_medium_pressure_counter": 0,"mem_rss_bytes": 1674051584,"mem_swap_bytes": 0,"mem_total_bytes": 1684824064,"mem_unevictable_bytes": 1246523392,"timestamp": 1503586281.61889},"status": {"container_id": {"value": "619e0c1a-a059-4801-ae60-75f022f89df7"},"executor_pid": 22987}},{"container_id": "762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id": "oinker.ad6f2dba-88d7-11e7-b25b-70b3d5800001","executor_name": "Command Executor (Task: oinker.ad6f2dba-88d7-11e7-b25b-70b3d5800001) (Command: sh -c 'export OINKE...')","framework_id": "99562003-3eb9-46be-afce-a15ee98990c7-0001","source": "oinker.ad6f2dba-88d7-11e7-b25b-70b3d5800001","statistics": {"cpus_limit": 0.35,"cpus_nr_periods": 0,"cpus_nr_throttled": 0,"cpus_system_time_secs": 0.66,"cpus_throttled_time_secs": 0,"cpus_user_time_secs": 0.36,"mem_limit_bytes": 167772160,"mem_rss_bytes": 1568768,"timestamp": 1503586281.62449},"status": {"container_id": {"value": "762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d"}}},{"container_id": "5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id": "hello-dcos.2e5847f8-88cd-11e7-b25b-70b3d5800001","executor_name": "Command Executor (Task: hello-dcos.2e5847f8-88cd-11e7-b25b-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id": "99562003-3eb9-46be-afce-a15ee98990c7-0001","source": "hello-dcos.2e5847f8-88cd-11e7-b25b-70b3d5800001","statistics": {"cpus_limit": 0.2,"cpus_nr_periods": 28887,"cpus_nr_throttled": 18,"cpus_system_time_secs": 8.21,"cpus_throttled_time_secs": 0.873600807,"cpus_user_time_secs": 4.88,"mem_anon_bytes": 5963776,"mem_cache_bytes": 0,"mem_critical_pressure_counter": 0,"mem_file_bytes": 0,"mem_limit_bytes": 44040192,"mem_low_pressure_counter": 0,"mem_mapped_file_bytes": 0,"mem_medium_pressure_counter": 0,"mem_rss_bytes": 5963776,"mem_swap_bytes": 0,"mem_total_bytes": 5971968,"mem_unevictable_bytes": 0,"timestamp": 1503586281.62372},"status": {"container_id": {"value": "5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0"},"executor_pid": 24708}},{"container_id": "a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id": "cassandra.51aa5247-88c9-11e7-b25b-70b3d5800001","executor_name": "Command Executor (Task: cassandra.51aa5247-88c9-11e7-b25b-70b3d5800001) (Command: sh -c 'env && expor...')","framework_id": "99562003-3eb9-46be-afce-a15ee98990c7-0001","source": "cassandra.51aa5247-88c9-11e7-b25b-70b3d5800001","statistics": {"cpus_limit": 0.2,"cpus_nr_periods": 60878,"cpus_nr_throttled": 2018,"cpus_system_time_secs": 13.53,"cpus_throttled_time_secs": 388.978817439,"cpus_user_time_secs": 45.59,"mem_anon_bytes": 323141632,"mem_cache_bytes": 462848,"mem_critical_pressure_counter": 0,"mem_file_bytes": 462848,"mem_limit_bytes": 570425344,"mem_low_pressure_counter": 0,"mem_mapped_file_bytes": 32768,"mem_medium_pressure_counter": 0,"mem_rss_bytes": 323141632,"mem_swap_bytes": 0,"mem_total_bytes": 323604480,"mem_unevictable_bytes": 0,"timestamp": 1503586281.62773},"status": {"container_id": {"value": "a7bcd1ca-484b-4d36-9439-6bef12dc9613"},"executor_pid": 22744}}]`,
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S1": `[]`,
}

var AGENT_CONTAINER_METRICS_JSON_OK = map[string]map[string]string{
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0": {
		"619e0c1a-a059-4801-ae60-75f022f89df7": `{"datapoints":[{"name":"cpus.user.time","value":20.74,"unit":"seconds","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"cpus.system.time","value":29.95,"unit":"seconds","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"cpus.limit","value":0.2,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"cpus.throttled.time","value":1.75146987,"unit":"seconds","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"mem.total","value":6938624,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"mem.limit","value":44040192,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"disk.limit","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"disk.used","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.rx.packets","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.rx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.rx.errors","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.rx.dropped","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.tx.packets","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.tx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.tx.errors","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.tx.dropped","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","framework_name":"marathon","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","framework_role":"slave_public","framework_principal":"dcos_marathon","hostname":"127.0.0.1","labels": {"DCOS_MIGRATION_API_PATH": "/v1/plan","DCOS_MIGRATION_API_VERSION": "v1","DCOS_PACKAGE_FRAMEWORK_NAME": "cassandra","DCOS_PACKAGE_IS_FRAMEWORK": "true","DCOS_PACKAGE_NAME": "cassandra","DCOS_PACKAGE_REGISTRY_VERSION": "3.0","DCOS_PACKAGE_RELEASE": "25","DCOS_PACKAGE_SOURCE": "https://universe.mesosphere.com/repo","DCOS_PACKAGE_VERSION": "1.0.25-3.0.10","DCOS_SERVICE_NAME": "cassandra","DCOS_SERVICE_PORT_INDEX": "0","DCOS_SERVICE_SCHEME": "http","MARATHON_SINGLE_INSTANCE_APP": "true"}}}`,
		"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d": `{"datapoints":[{"name":"cpus.user.time","value":0.03,"unit":"seconds","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"cpus.system.time","value":0,"unit":"seconds","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"cpus.limit","value":1.1,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"cpus.throttled.time","value":0,"unit":"seconds","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"mem.total","value":6660096,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"mem.limit","value":167772160,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"disk.limit","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"disk.used","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.packets","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.errors","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.dropped","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.packets","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.errors","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.dropped","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","framework_name":"marathon","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","framework_role":"slave_public","framework_principal":"dcos_marathon","hostname":"127.0.0.1"}}`,
		"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0": `{"datapoints":[{"name":"cpus.user.time","value":0.03,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.system.time","value":0.02,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.limit","value":1.1,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.throttled.time","value":0,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"mem.total","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"mem.limit","value":167772160,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"disk.limit","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"disk.used","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.packets","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.errors","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.dropped","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.packets","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.errors","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.dropped","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","framework_name":"marathon","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","framework_role":"slave_public","framework_principal":"dcos_marathon","hostname":"127.0.0.1"}}`,
		"a7bcd1ca-484b-4d36-9439-6bef12dc9613": `{"datapoints":[{"name":"cpus.user.time","value":0.15,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.system.time","value":0.08,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.limit","value":0.2,"unit":"count","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.throttled.time","value":0.407527461,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"mem.total","value":7340032,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"mem.limit","value":44040192,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"disk.limit","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"disk.used","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.packets","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.errors","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.dropped","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.packets","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.errors","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.dropped","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938454043Z","tags":{"container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.9f578110-7b63-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001"}}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","container_id":"a7bcd1ca-484b-4d36-9439-6bef12dc9613","executor_id":"basic-0.9f578110-7b63-11e7-be7d-70b3d5800001","framework_name":"marathon","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","framework_role":"slave_public","framework_principal":"dcos_marathon","hostname":"127.0.0.1"}}`,
		"f942c669-6ed1-4864-ba96-20529710def5": `{"datapoints":[{"name":"cpus.user.time","value":0.03,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.system.time","value":0.02,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.limit","value":1.1,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.throttled.time","value":0,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"mem.total","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"mem.limit","value":167772160,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"disk.limit","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"disk.used","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.packets","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.errors","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.dropped","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.packets","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.errors","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.dropped","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","framework_name":"marathon","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","framework_role":"slave_public","framework_principal":"dcos_marathon","hostname":"127.0.0.1"}}`,
		"f94cee4f-155d-430b-9d35-83441367820e": `{"datapoints":[{"name":"cpus.user.time","value":0.03,"unit":"seconds","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"cpus.system.time","value":0.01,"unit":"seconds","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"cpus.limit","value":1.1,"unit":"count","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"cpus.throttled.time","value":0,"unit":"seconds","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"mem.total","value":6987776,"unit":"bytes","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"mem.limit","value":167772160,"unit":"bytes","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"disk.limit","value":0,"unit":"bytes","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"disk.used","value":0,"unit":"bytes","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.packets","value":0,"unit":"count","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.errors","value":0,"unit":"count","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.dropped","value":0,"unit":"count","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.packets","value":0,"unit":"count","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.errors","value":0,"unit":"count","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.dropped","value":0,"unit":"count","timestamp":"2017-08-08T17:23:28.712510295Z","tags":{"container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001"}}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","container_id":"f94cee4f-155d-430b-9d35-83441367820e","executor_id":"mynginxserver.5189c2f3-7b67-11e7-be7d-70b3d5800001","framework_name":"marathon","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","framework_role":"slave_public","framework_principal":"dcos_marathon","hostname":"127.0.0.1"}}`,
	},
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S1": {},
}

var AGENT_CONTAINER_APP_METRICS_JSON_OK = map[string]map[string]string{
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0": {
		"619e0c1a-a059-4801-ae60-75f022f89df7": `{"datapoints":[{"name":"dcos.metrics.module.container_received_bytes_per_sec","value":"NaN","unit":"","timestamp":"2017-08-21T08:22:42Z"},{"name":"dcos.metrics.module.container_throttled_bytes_per_sec","value":0,"unit":"","timestamp":"2017-08-21T08:22:42Z"}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","hostname":"127.0.0.1","tag_to_remove": ""}
}`,
	},
}
var MESOS_MASTER_STATE_SUMMARY_JSON_FAIL = `{"hostname":"192.168.65.90","cluster":"dcos-vagrant","slaves":[{"id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","hostname":"127.0.0.1","port":5051,"attributes":{},"pid":"slave(1)@127.0.0.1:5051","registered_time":1502176250.51955,"reregistered_time":1502176250.51985,"resources":{"disk":48393.0,"mem":5632.0,"gpus":0.0,"cpus":4.0,"ports":"[1025-2180, 2182-3887, 3889-5049, 5052-8079, 8082-8180, 8182-32000]"},"used_resources":{"disk":0.0,"mem":266.0,"gpus":0.0,"cpus":2.1,"ports":"[16721-16721, 18137-18137, 20497-20497]"},"offered_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"reserved_resources":{},"unreserved_resources":{"disk":48393.0,"mem":5632.0,"gpus":0.0,"cpus":4.0,"ports":"[1025-2180, 2182-3887, 3889-5049, 5052-8079, 8082-8180, 8182-32000]"},"active":true,"version":"1.2.1","TASK_STAGING":0,"TASK_STARTING":0,"TASK_RUNNING":3,"TASK_KILLING":0,"TASK_FINISHED":0,"TASK_KILLED":0,"TASK_FAILED":0,"TASK_LOST":0,"TASK_ERROR":0,"TASK_UNREACHABLE":0,"framework_ids":["a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001"]},{"id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S1","hostname":"localhost","port":5051,"attributes":{"public_ip":"true"},"pid":"slave(1)@localhost:5051","registered_time":1502176250.10554,"reregistered_time":1502176250.10562,"resources":{"disk":48393.0,"mem":1024.0,"gpus":0.0,"cpus":2.0,"ports":"[1-21, 23-5050, 5052-32000]"},"used_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"offered_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"reserved_resources":{"slave_public":{"disk":48393.0,"mem":1024.0,"gpus":0.0,"cpus":2.0,"ports":"[1-21, 23-5050, 5052-32000]"}},"unreserved_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"active":true,"version":"1.2.1","TASK_STAGING":0,"TASK_STARTING":0,"TASK_RUNNING":0,"TASK_KILLING":0,"TASK_FINISHED":0,"TASK_KILLED":0,"TASK_FAILED":0,"TASK_LOST":0,"TASK_ERROR":0,"TASK_UNREACHABLE":0,"framework_ids":[]}],"frameworks":[{"id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","name":"marathon","pid":"scheduler-f34373eb-6c78-4347-b7ca-20a3c104dad3@192.168.65.90:15101","used_resources":{"disk":0.0,"mem":266.0,"gpus":0.0,"cpus":2.1,"ports":"[16721-16721, 18137-18137, 20497-20497]"},"offered_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"capabilities":["TASK_KILLING_STATE","GPU_RESOURCES","PARTITION_AWARE"],"hostname":"192.168.65.90","webui_url":"http:\/\/192.168.65.90:8080","active":true,"connected":true,"recovered":false,"TASK_STAGING":0,"TASK_STARTING":0,"TASK_RUNNING":3,"TASK_KILLING":0,"TASK_FINISHED":0,"TASK_KILLED":0,"TASK_FAILED":0,"TASK_LOST":0,"TASK_ERROR":0,"TASK_UNREACHABLE":0,"slave_ids":["b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0"]},{"id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0000","name":"metronome","pid":"scheduler-a55ffe5e-f468-4c61-8bf7-4f34f021171c@192.168.65.90:15201","used_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"offered_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"capabilities":[],"hostname":"192.168.65.90","webui_url":"http:\/\/192.168.65.90:9000","active":true,"connected":true,"recovered":false,"TASK_STAGING":0,"TASK_STARTING":0,"TASK_RUNNING":0,"TASK_KILLING":0,"TASK_FINISHED":0,"TASK_KILLED":0,"TASK_FAILED":0,"TASK_LOST":0,"TASK_ERROR":0,"TASK_UNREACHABLE":0,"slave_ids":[]}]}`

//missing definition for b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S1
var AGENT_METRICS_JSON_FAIL = map[string]string{
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0": `{"datapoints":[{"name":"system.uptime","value":42457,"unit":"count","timestamp":"2017-08-08T13:14:55.293813024Z"},{"name":"cpu.cores","value":4,"unit":"count","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"cpu.total","value":1.35,"unit":"percent","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"cpu.user","value":0.83,"unit":"percent","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"cpu.system","value":0.52,"unit":"percent","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"cpu.idle","value":98.6,"unit":"percent","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"cpu.wait","value":0,"unit":"percent","timestamp":"2017-08-08T13:14:55.293833731Z"},{"name":"load.1min","value":0.23,"unit":"count","timestamp":"2017-08-08T13:14:55.295350679Z"},{"name":"load.5min","value":0.13,"unit":"count","timestamp":"2017-08-08T13:14:55.295350679Z"},{"name":"load.15min","value":0.14,"unit":"count","timestamp":"2017-08-08T13:14:55.295350679Z"},{"name":"filesystem.capacity.total","value":53660876800,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.capacity.used","value":3048071168,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.capacity.free","value":50612805632,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.inode.total","value":26214400,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.inode.used","value":111584,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.inode.free","value":26102816,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/"}},{"name":"filesystem.capacity.total","value":1063256064,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.capacity.used","value":144031744,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.capacity.free","value":919224320,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.inode.total","value":524288,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.inode.used","value":328,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.inode.free","value":523960,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/boot"}},{"name":"filesystem.capacity.total","value":50432839680,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.capacity.used","value":93216768,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.capacity.free","value":50339622912,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.inode.total","value":24637440,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.inode.used","value":17,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.inode.free","value":24637423,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/home"}},{"name":"filesystem.capacity.total","value":53660876800,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.capacity.used","value":3048071168,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.capacity.free","value":50612805632,"unit":"bytes","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.inode.total","value":26214400,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.inode.used","value":111584,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"filesystem.inode.free","value":26102816,"unit":"count","timestamp":"2017-08-08T13:14:55.295481144Z","tags":{"path":"/var/lib/docker/overlay"}},{"name":"memory.total","value":6088818688,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"memory.free","value":5148024832,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"memory.buffers","value":970752,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"memory.cached","value":415162368,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"swap.total","value":2147479552,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"swap.free","value":2147479552,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"swap.used","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.297092962Z"},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"spartan"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"d-dcos"}},{"name":"network.in","value":614077,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.out","value":605619,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.in.packets","value":7675,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.out.packets","value":7386,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s3"}},{"name":"network.in","value":152540929,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.out","value":181719668,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.in.packets","value":1155484,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.out.packets","value":1190033,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"enp0s8"}},{"name":"network.in","value":648,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.out","value":648,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.in.packets","value":8,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.out.packets","value":8,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth0a57a71"}},{"name":"network.in","value":648,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.out","value":648,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.in.packets","value":8,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.out.packets","value":8,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"veth7134f20"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"dummy0"}},{"name":"network.in","value":338336992,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.out","value":338336992,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.in.packets","value":161857,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.out.packets","value":161857,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"lo"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"vtep1024"}},{"name":"network.in","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.in.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"minuteman"}},{"name":"network.in","value":2068,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.out","value":0,"unit":"bytes","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.in.packets","value":31,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.out.packets","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.in.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.out.dropped","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.in.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"network.out.errors","value":0,"unit":"count","timestamp":"2017-08-08T13:14:55.298229692Z","tags":{"interface":"docker0"}},{"name":"process_count","value":215,"unit":"count","timestamp":"2017-08-08T13:14:55.31709865Z"}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","hostname":"127.0.0.1"}}`,
}

//missing definition for b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S1
var AGENT_CONTAINERS_JSON_FAIL = map[string]string{
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0": `["619e0c1a-a059-4801-ae60-75f022f89df7","762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","a7bcd1ca-484b-4d36-9439-6bef12dc9613","f942c669-6ed1-4864-ba96-20529710def5","f94cee4f-155d-430b-9d35-83441367820e"]`,
}

//missing definition for container "f94cee4f-155d-430b-9d35-83441367820e"
var AGENT_CONTAINER_METRICS_JSON_FAIL = map[string]map[string]string{
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0": {
		"619e0c1a-a059-4801-ae60-75f022f89df7": `{"datapoints":[{"name":"cpus.user.time","value":20.74,"unit":"seconds","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"cpus.system.time","value":29.95,"unit":"seconds","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"cpus.limit","value":0.2,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"cpus.throttled.time","value":1.75146987,"unit":"seconds","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"mem.total","value":6938624,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"mem.limit","value":44040192,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"disk.limit","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"disk.used","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.rx.packets","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.rx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.rx.errors","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.rx.dropped","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.tx.packets","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.tx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.tx.errors","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}},{"name":"net.tx.dropped","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.08251184Z","tags":{"container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001"}}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","container_id":"619e0c1a-a059-4801-ae60-75f022f89df7","executor_id":"basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001","framework_name":"marathon","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","framework_role":"slave_public","framework_principal":"dcos_marathon","hostname":"127.0.0.1"}}`,
		"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d": `{"datapoints":[{"name":"cpus.user.time","value":0.03,"unit":"seconds","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"cpus.system.time","value":0,"unit":"seconds","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"cpus.limit","value":1.1,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"cpus.throttled.time","value":0,"unit":"seconds","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"mem.total","value":6660096,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"mem.limit","value":167772160,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"disk.limit","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"disk.used","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.packets","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.errors","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.rx.dropped","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.packets","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.errors","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}},{"name":"net.tx.dropped","value":0,"unit":"count","timestamp":"2017-08-08T17:22:34.082493291Z","tags":{"container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001"}}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","container_id":"762fdbc9-1574-4ee6-ab5b-8ab4fbc1239d","executor_id":"mynginxserver.5186b5b2-7b67-11e7-be7d-70b3d5800001","framework_name":"marathon","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","framework_role":"slave_public","framework_principal":"dcos_marathon","hostname":"127.0.0.1"}}`,
		"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0": `{"datapoints":[{"name":"cpus.user.time","value":0.03,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.system.time","value":0.02,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.limit","value":1.1,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.throttled.time","value":0,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"mem.total","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"mem.limit","value":167772160,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"disk.limit","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"disk.used","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.packets","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.errors","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.dropped","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.packets","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.errors","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.dropped","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938487556Z","tags":{"container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001"}}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","container_id":"5aed0dd8-ca5e-4e79-a410-32e1d6e45cc0","executor_id":"mynginxserver.998cf5ce-7b63-11e7-be7d-70b3d5800001","framework_name":"marathon","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","framework_role":"slave_public","framework_principal":"dcos_marathon","hostname":"127.0.0.1"}}`,
		"f942c669-6ed1-4864-ba96-20529710def5": `{"datapoints":[{"name":"cpus.user.time","value":0.03,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.system.time","value":0.02,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.limit","value":1.1,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"cpus.throttled.time","value":0,"unit":"seconds","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"mem.total","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"mem.limit","value":167772160,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"disk.limit","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"disk.used","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.packets","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.errors","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.rx.dropped","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.packets","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.bytes","value":0,"unit":"bytes","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.errors","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}},{"name":"net.tx.dropped","value":0,"unit":"count","timestamp":"2017-08-07T11:30:41.938504479Z","tags":{"container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","executor_name":"Command Executor (Task: mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001) (Command: NO EXECUTABLE)","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","source":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001"}}],"dimensions":{"mesos_id":"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0","cluster_id":"2f4b3291-ee34-4779-b7bd-015f6594e9c0","container_id":"f942c669-6ed1-4864-ba96-20529710def5","executor_id":"mynginxserver.99a70d7f-7b63-11e7-be7d-70b3d5800001","framework_name":"marathon","framework_id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","framework_role":"slave_public","framework_principal":"dcos_marathon","hostname":"127.0.0.1"}}`,
	},
	"b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S1": {},
}

var MESOS_MASTER_STATE_SUMMARY_EMPTY_SLAVES_JSON = `{"hostname":"192.168.65.90","cluster":"dcos-vagrant","slaves":[],"frameworks":[{"id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001","name":"marathon","pid":"scheduler-f34373eb-6c78-4347-b7ca-20a3c104dad3@192.168.65.90:15101","used_resources":{"disk":0.0,"mem":266.0,"gpus":0.0,"cpus":2.1,"ports":"[16721-16721, 18137-18137, 20497-20497]"},"offered_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"capabilities":["TASK_KILLING_STATE","GPU_RESOURCES","PARTITION_AWARE"],"hostname":"192.168.65.90","webui_url":"http:\/\/192.168.65.90:8080","active":true,"connected":true,"recovered":false,"TASK_STAGING":0,"TASK_STARTING":0,"TASK_RUNNING":3,"TASK_KILLING":0,"TASK_FINISHED":0,"TASK_KILLED":0,"TASK_FAILED":0,"TASK_LOST":0,"TASK_ERROR":0,"TASK_UNREACHABLE":0,"slave_ids":["b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0"]},{"id":"a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0000","name":"metronome","pid":"scheduler-a55ffe5e-f468-4c61-8bf7-4f34f021171c@192.168.65.90:15201","used_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"offered_resources":{"disk":0.0,"mem":0.0,"gpus":0.0,"cpus":0.0},"capabilities":[],"hostname":"192.168.65.90","webui_url":"http:\/\/192.168.65.90:9000","active":true,"connected":true,"recovered":false,"TASK_STAGING":0,"TASK_STARTING":0,"TASK_RUNNING":0,"TASK_KILLING":0,"TASK_FINISHED":0,"TASK_KILLED":0,"TASK_FAILED":0,"TASK_LOST":0,"TASK_ERROR":0,"TASK_UNREACHABLE":0,"slave_ids":[]}]}`

// emulate different slaves by different localhost address
var HOST_AGENT_MAP = map[string]string{
	"127.0.0.1": "b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0",
	"localhost": "b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S1",
}

var remotePathsTestServer *httptest.Server
var localPathsTestServer *httptest.Server

func requestHostname(r *http.Request) string {
	host, _, _ := net.SplitHostPort(r.Host)
	return host
}
func TestMain(m *testing.M) {

	remotePathsRouter := mux.NewRouter()
	// /1 routes are for OK reposnses
	remotePathsRouter.HandleFunc("/1/mesos/master/state-summary", func(w http.ResponseWriter, r *http.Request) {
		w.WriteHeader(http.StatusOK)
		w.Header().Set("Content-Type", "application/json")
		w.Write([]byte(MESOS_MASTER_STATE_SUMMARY_JSON_OK))
	})

	remotePathsRouter.HandleFunc("/1/system/v1/agent/{agentId}/metrics/v0/node", func(w http.ResponseWriter, r *http.Request) {
		params := mux.Vars(r)
		agentId := params["agentId"]
		if resp, ok := AGENT_METRICS_JSON_OK[agentId]; ok {
			w.WriteHeader(http.StatusOK)
			w.Header().Set("Content-Type", "application/json")

			w.Write([]byte(resp))
		} else {
			w.WriteHeader(http.StatusNotFound)
		}
	})
	remotePathsRouter.HandleFunc("/1/agent/{agentId}/containers", func(w http.ResponseWriter, r *http.Request) {
		params := mux.Vars(r)
		agentId := params["agentId"]
		if resp, ok := MESOS_AGENT_CONTAINERS_JSON_OK[agentId]; ok {
			w.WriteHeader(http.StatusOK)
			w.Header().Set("Content-Type", "application/json")

			w.Write([]byte(resp))
		} else {
			w.WriteHeader(http.StatusNotFound)
		}
	})
	remotePathsRouter.HandleFunc("/1/system/v1/agent/{agentId}/metrics/v0/containers", func(w http.ResponseWriter, r *http.Request) {
		params := mux.Vars(r)
		agentId := params["agentId"]
		if resp, ok := AGENT_CONTAINERS_JSON_OK[agentId]; ok {
			w.WriteHeader(http.StatusOK)
			w.Header().Set("Content-Type", "application/json")

			w.Write([]byte(resp))
		} else {
			w.WriteHeader(http.StatusNotFound)
		}
	})
	remotePathsRouter.HandleFunc("/1/system/v1/agent/{agentId}/metrics/v0/containers/{containerId}", func(w http.ResponseWriter, r *http.Request) {
		params := mux.Vars(r)
		agentId := params["agentId"]
		if agentContainerMetrics, ok := AGENT_CONTAINER_METRICS_JSON_OK[agentId]; ok {
			containerId := params["containerId"]
			if resp, ok := agentContainerMetrics[containerId]; ok {
				w.WriteHeader(http.StatusOK)
				w.Header().Set("Content-Type", "application/json")

				w.Write([]byte(resp))
				return
			}
		}
		w.WriteHeader(http.StatusNotFound)
	})

	remotePathsRouter.HandleFunc("/1/system/v1/agent/{agentId}/metrics/v0/containers/{containerId}/app", func(w http.ResponseWriter, r *http.Request) {
		params := mux.Vars(r)
		agentId := params["agentId"]
		containerId := params["containerId"]
		if containerAppMetrics, ok := AGENT_CONTAINER_APP_METRICS_JSON_OK[agentId]; ok {
			if resp, ok := containerAppMetrics[containerId]; ok {
				w.WriteHeader(http.StatusOK)
				w.Header().Set("Content-Type", "application/json")

				w.Write([]byte(resp))
				return
			}
		}
		w.WriteHeader(http.StatusNoContent)
	})

	remotePathsRouter.HandleFunc("/2/mesos/master/state-summary", func(w http.ResponseWriter, r *http.Request) {
		w.WriteHeader(http.StatusOK)
		w.Header().Set("Content-Type", "application/json")
		w.Write([]byte(MESOS_MASTER_STATE_SUMMARY_JSON_FAIL))
	})

	// /3 routes are for some 404 responses
	remotePathsRouter.HandleFunc("/2/system/v1/agent/{agentId}/metrics/v0/node", func(w http.ResponseWriter, r *http.Request) {
		params := mux.Vars(r)
		agentId := params["agentId"]
		if resp, ok := AGENT_METRICS_JSON_FAIL[agentId]; ok {
			w.WriteHeader(http.StatusOK)
			w.Header().Set("Content-Type", "application/json")

			w.Write([]byte(resp))
		} else {
			w.WriteHeader(http.StatusNotFound)
		}
	})
	remotePathsRouter.HandleFunc("/2/system/v1/agent/{agentId}/metrics/v0/containers", func(w http.ResponseWriter, r *http.Request) {
		params := mux.Vars(r)
		agentId := params["agentId"]
		if resp, ok := AGENT_CONTAINERS_JSON_FAIL[agentId]; ok {
			w.WriteHeader(http.StatusOK)
			w.Header().Set("Content-Type", "application/json")

			w.Write([]byte(resp))
		} else {
			w.WriteHeader(http.StatusNotFound)
		}
	})
	remotePathsRouter.HandleFunc("/2/agent/{agentId}/containers", func(w http.ResponseWriter, r *http.Request) {
		params := mux.Vars(r)
		agentId := params["agentId"]
		if resp, ok := MESOS_AGENT_CONTAINERS_JSON_OK[agentId]; ok {
			w.WriteHeader(http.StatusOK)
			w.Header().Set("Content-Type", "application/json")

			w.Write([]byte(resp))
		} else {
			w.WriteHeader(http.StatusNotFound)
		}
	})
	remotePathsRouter.HandleFunc("/2/system/v1/agent/{agentId}/metrics/v0/containers/{containerId}", func(w http.ResponseWriter, r *http.Request) {
		params := mux.Vars(r)
		agentId := params["agentId"]
		if agentContainerMetrics, ok := AGENT_CONTAINER_METRICS_JSON_FAIL[agentId]; ok {
			containerId := params["containerId"]
			if resp, ok := agentContainerMetrics[containerId]; ok {
				w.WriteHeader(http.StatusOK)
				w.Header().Set("Content-Type", "application/json")

				w.Write([]byte(resp))
				return
			}
		}
		w.WriteHeader(http.StatusNotFound)
	})

	remotePathsRouter.HandleFunc("/2/system/v1/agent/{agentId}/metrics/v0/containers/{containerId}/app", func(w http.ResponseWriter, r *http.Request) {
		//params := mux.Vars(r)
		//agentId := params["agentId"]
		//containerId := params["containerId"]
		w.WriteHeader(http.StatusNoContent)
	})

	// /3 route is for testing unauthorized
	remotePathsRouter.HandleFunc("/3/mesos/master/state-summary", func(w http.ResponseWriter, r *http.Request) {
		w.WriteHeader(http.StatusUnauthorized)
	})
	// route /4 for empty slaves
	remotePathsRouter.HandleFunc("/4/mesos/master/state-summary", func(w http.ResponseWriter, r *http.Request) {
		w.WriteHeader(http.StatusOK)
		w.Header().Set("Content-Type", "application/json")
		w.Write([]byte(MESOS_MASTER_STATE_SUMMARY_EMPTY_SLAVES_JSON))
	})

	localPathsRouter := mux.NewRouter()
	// /1 routes are for OK reposnses
	localPathsRouter.HandleFunc("/state-summary", func(w http.ResponseWriter, r *http.Request) {
		w.WriteHeader(http.StatusOK)
		_, port, _ := net.SplitHostPort(r.Host)
		w.Header().Set("Content-Type", "application/json")
		json := strings.Replace(MESOS_MASTER_STATE_SUMMARY_JSON_OK, "9999999", port, 2)
		w.Write([]byte(json))
	})

	localPathsRouter.HandleFunc("/system/v1/metrics/v0/node", func(w http.ResponseWriter, r *http.Request) {
		agentId := HOST_AGENT_MAP[requestHostname(r)]
		if resp, ok := AGENT_METRICS_JSON_OK[agentId]; ok {
			w.WriteHeader(http.StatusOK)
			w.Header().Set("Content-Type", "application/json")

			w.Write([]byte(resp))
		} else {
			w.WriteHeader(http.StatusNotFound)
		}
	})
	localPathsRouter.HandleFunc("/containers", func(w http.ResponseWriter, r *http.Request) {
		agentId := HOST_AGENT_MAP[requestHostname(r)]
		if resp, ok := MESOS_AGENT_CONTAINERS_JSON_OK[agentId]; ok {
			w.WriteHeader(http.StatusOK)
			w.Header().Set("Content-Type", "application/json")

			w.Write([]byte(resp))
		} else {
			w.WriteHeader(http.StatusNotFound)
		}
	})
	localPathsRouter.HandleFunc("/system/v1/metrics/v0/containers", func(w http.ResponseWriter, r *http.Request) {
		agentId := HOST_AGENT_MAP[requestHostname(r)]
		if resp, ok := AGENT_CONTAINERS_JSON_OK[agentId]; ok {
			w.WriteHeader(http.StatusOK)
			w.Header().Set("Content-Type", "application/json")

			w.Write([]byte(resp))
		} else {
			w.WriteHeader(http.StatusNotFound)
		}
	})
	localPathsRouter.HandleFunc("/system/v1/metrics/v0/containers/{containerId}", func(w http.ResponseWriter, r *http.Request) {
		params := mux.Vars(r)
		agentId := HOST_AGENT_MAP[requestHostname(r)]
		if agentContainerMetrics, ok := AGENT_CONTAINER_METRICS_JSON_OK[agentId]; ok {
			containerId := params["containerId"]
			if resp, ok := agentContainerMetrics[containerId]; ok {
				w.WriteHeader(http.StatusOK)
				w.Header().Set("Content-Type", "application/json")

				w.Write([]byte(resp))
				return
			}
		}
		w.WriteHeader(http.StatusNotFound)
	})

	localPathsRouter.HandleFunc("/system/v1/metrics/v0/containers/{containerId}/app", func(w http.ResponseWriter, r *http.Request) {
		params := mux.Vars(r)
		agentId := HOST_AGENT_MAP[requestHostname(r)]
		containerId := params["containerId"]
		if containerAppMetrics, ok := AGENT_CONTAINER_APP_METRICS_JSON_OK[agentId]; ok {
			if resp, ok := containerAppMetrics[containerId]; ok {
				w.WriteHeader(http.StatusOK)
				w.Header().Set("Content-Type", "application/json")

				w.Write([]byte(resp))
				return
			}
		}
		w.WriteHeader(http.StatusNoContent)
	})

	remotePathsTestServer = httptest.NewServer(remotePathsRouter)
	localPathsTestServer = httptest.NewServer(localPathsRouter)

	rc := m.Run()

	remotePathsTestServer.Close()
	localPathsTestServer.Close()

	os.Exit(rc)
}

func TestInfo(t *testing.T) {
	dcos := &Dcos{}
	assert.NotEmpty(t, dcos.SampleConfig())
	assert.NotEmpty(t, dcos.Description())
}

func TestGatherNodeMetrics(t *testing.T) {
	host, portString, _ := net.SplitHostPort(localPathsTestServer.Listener.Addr().String())
	port, _ := strconv.Atoi(portString)
	configurations := []Dcos{
		Dcos{
			ClusterURL:        "http://" + remotePathsTestServer.Listener.Addr().String() + "/1",
			AuthToken:         "token",
			Agents:            []string{},
			FileSystemMounts:  []string{},
			NetworkInterfaces: []string{},
		},
		Dcos{
			MasterHostname:    host,
			MasterPort:        uint16(port),
			MetricsPort:       uint16(port),
			Agents:            []string{},
			FileSystemMounts:  []string{},
			NetworkInterfaces: []string{},
		},
	}
	for i, dcos := range configurations {
		t.Run("TestGatherNodeMetrics "+strconv.Itoa(i), func(t *testing.T) {
			var acc testutil.Accumulator
			require.NoError(t, dcos.Gather(&acc))
			//there must be 40 measurements for nodes (2)(6*various system metrics per each +4*filesystem for each +11*networks for node1 + 9 network of node2) + 4 measurements per each container (4 of 6) + 1 container app metric
			assert.Equal(t, uint64(57), acc.NMetrics())

			fieldsNode := map[string]interface{}{
				"uptime_count": 42457.,
			}
			tagsNode := map[string]string{
				"mesos_id":    "b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0",
				"cluster_id":  "2f4b3291-ee34-4779-b7bd-015f6594e9c0",
				"hostname":    "127.0.0.1",
				"cluster_url": dcos.ClusterURL,
				"scope":       "node",
			}
			acc.AssertContainsTaggedFields(t, "dcos_system", fieldsNode, tagsNode)

			fieldsNode = map[string]interface{}{
				"cores_count":    4.,
				"total_percent":  1.35,
				"user_percent":   0.83,
				"system_percent": 0.52,
				"idle_percent":   98.6,
				"wait_percent":   0.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_cpu", fieldsNode, tagsNode)

			fieldsNode = map[string]interface{}{
				"1min_count":  0.23,
				"5min_count":  0.13,
				"15min_count": 0.14,
			}
			acc.AssertContainsTaggedFields(t, "dcos_load", fieldsNode, tagsNode)

			fieldsNode = map[string]interface{}{
				"total_bytes":   6088818688.,
				"free_bytes":    5148024832.,
				"buffers_bytes": 970752.,
				"cached_bytes":  415162368.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_memory", fieldsNode, tagsNode)

			fieldsNode = map[string]interface{}{
				"total_bytes": 2147479552.,
				"free_bytes":  2147479552.,
				"used_bytes":  0.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_swap", fieldsNode, tagsNode)

			fieldsNode = map[string]interface{}{
				"count": 215.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_process", fieldsNode, tagsNode)

			tagsNode["path"] = "/"
			fieldsNode = map[string]interface{}{
				"capacity_total_bytes": 53660876800.,
				"capacity_used_bytes":  3048071168.,
				"capacity_free_bytes":  50612805632.,
				"inode_total_count":    26214400.,
				"inode_used_count":     111584.,
				"inode_free_count":     26102816.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_filesystem", fieldsNode, tagsNode)

			tagsNode["path"] = "/"
			fieldsNode = map[string]interface{}{
				"capacity_total_bytes": 53660876800.,
				"capacity_used_bytes":  3048071168.,
				"capacity_free_bytes":  50612805632.,
				"inode_total_count":    26214400.,
				"inode_used_count":     111584.,
				"inode_free_count":     26102816.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_filesystem", fieldsNode, tagsNode)

			tagsNode["path"] = "/var/lib/docker/overlay"
			fieldsNode = map[string]interface{}{
				"capacity_total_bytes": 53660876800.,
				"capacity_used_bytes":  3048071168.,
				"capacity_free_bytes":  50612805632.,
				"inode_total_count":    26214400.,
				"inode_used_count":     111584.,
				"inode_free_count":     26102816.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_filesystem", fieldsNode, tagsNode)
			delete(tagsNode, "path")

			tagsNode["interface"] = "spartan"
			fieldsNode = map[string]interface{}{
				"in_bytes":          0.,
				"out_bytes":         0.,
				"in_packets_count":  0.,
				"out_packets_count": 0.,
				"in_dropped_count":  0.,
				"out_dropped_count": 0.,
				"in_errors_count":   0.,
				"out_errors_count":  0.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_network", fieldsNode, tagsNode)

			tagsNode["interface"] = "enp0s8"
			fieldsNode = map[string]interface{}{
				"in_bytes":          152540929.,
				"out_bytes":         181719668.,
				"in_packets_count":  1155484.,
				"out_packets_count": 1190033.,
				"in_dropped_count":  0.,
				"out_dropped_count": 0.,
				"in_errors_count":   0.,
				"out_errors_count":  0.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_network", fieldsNode, tagsNode)
		})
	}

}

func TestGatherContainerMetrics(t *testing.T) {
	host, portString, _ := net.SplitHostPort(localPathsTestServer.Listener.Addr().String())
	port, _ := strconv.Atoi(portString)
	configurations := []Dcos{
		Dcos{
			ClusterURL:        "http://" + remotePathsTestServer.Listener.Addr().String() + "/1",
			AuthToken:         "token",
			Agents:            []string{},
			FileSystemMounts:  []string{},
			NetworkInterfaces: []string{},
		},
		Dcos{
			MasterHostname:    host,
			MasterPort:        uint16(port),
			MetricsPort:       uint16(port),
			Agents:            []string{},
			FileSystemMounts:  []string{},
			NetworkInterfaces: []string{},
		},
	}
	for i, dcos := range configurations {
		t.Run("TestGatherContainerMetrics "+strconv.Itoa(i), func(t *testing.T) {
			var acc testutil.Accumulator
			require.NoError(t, dcos.Gather(&acc))
			//there must be 40 measurements for nodes (2)(6*various system metrics per each +4*filesystem for each +11*networks for node1 + 9 netwowks of node2) + 4 measurements per each container (4) + 1 container app metric
			assert.Equal(t, acc.NMetrics(), uint64(57))

			tagsContainer := map[string]string{
				"mesos_id":                      "b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0",
				"cluster_id":                    "2f4b3291-ee34-4779-b7bd-015f6594e9c0",
				"container_id":                  "619e0c1a-a059-4801-ae60-75f022f89df7",
				"executor_id":                   "basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001",
				"framework_name":                "marathon",
				"framework_id":                  "a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001",
				"framework_role":                "slave_public",
				"framework_principal":           "dcos_marathon",
				"hostname":                      "127.0.0.1",
				"executor_name":                 "Command Executor (Task: basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001) (Command: sh -c 'while [ true...')",
				"source":                        "basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001",
				"cluster_url":                   dcos.ClusterURL,
				"scope":                         "container",
				"DCOS_MIGRATION_API_PATH":       "/v1/plan",
				"DCOS_MIGRATION_API_VERSION":    "v1",
				"DCOS_PACKAGE_FRAMEWORK_NAME":   "cassandra",
				"DCOS_PACKAGE_IS_FRAMEWORK":     "true",
				"DCOS_PACKAGE_NAME":             "cassandra",
				"DCOS_PACKAGE_REGISTRY_VERSION": "3.0",
				"DCOS_PACKAGE_RELEASE":          "25",
				"DCOS_PACKAGE_SOURCE":           "https://universe.mesosphere.com/repo",
				"DCOS_PACKAGE_VERSION":          "1.0.25-3.0.10",
				"DCOS_SERVICE_NAME":             "cassandra",
				"DCOS_SERVICE_PORT_INDEX":       "0",
				"DCOS_SERVICE_SCHEME":           "http",
				"MARATHON_SINGLE_INSTANCE_APP":  "true",
			}
			fieldsContainer := map[string]interface{}{
				"user_time_seconds":      20.74,
				"system_time_seconds":    29.95,
				"limit_count":            0.2,
				"throttled_time_seconds": 1.75146987,
			}
			acc.AssertContainsTaggedFields(t, "dcos_cpus", fieldsContainer, tagsContainer)

			fieldsContainer = map[string]interface{}{
				"total_bytes": 6938624.,
				"limit_bytes": 44040192.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_mem", fieldsContainer, tagsContainer)
			fieldsContainer = map[string]interface{}{
				"limit_bytes": 0.,
				"used_bytes":  0.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_disk", fieldsContainer, tagsContainer)
			fieldsContainer = map[string]interface{}{
				"rx_packets_count": 0.,
				"rx_bytes":         0.,
				"rx_errors_count":  0.,
				"rx_dropped_count": 0.,
				"tx_packets_count": 0.,
				"tx_bytes":         0.,
				"tx_errors_count":  0.,
				"tx_dropped_count": 0.,
			}
			acc.AssertContainsTaggedFields(t, "dcos_net", fieldsContainer, tagsContainer)

			tagsContainerApp := map[string]string{
				"mesos_id":     "b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0",
				"cluster_id":   "2f4b3291-ee34-4779-b7bd-015f6594e9c0",
				"container_id": "619e0c1a-a059-4801-ae60-75f022f89df7",
				"executor_id":  "basic-0.1b75af51-7b65-11e7-be7d-70b3d5800001",
				"framework_id": "a52c2640-d3b9-49c8-b92f-a17b2c25cd70-0001",
				"hostname":     "127.0.0.1",
				"cluster_url":  dcos.ClusterURL,
				"scope":        "app",
			}
			fieldsContainerApp := map[string]interface{}{
				"dcos.metrics.module.container_throttled_bytes_per_sec": 0.,
			}
			assert.Len(t, acc.Errors, 0, "There should be no errors")
			acc.AssertContainsTaggedFields(t, "dcos_app", fieldsContainerApp, tagsContainerApp)
		})
	}
}

func TestGatherFiltered(t *testing.T) {
	clusterUrl := "http://" + remotePathsTestServer.Listener.Addr().String() + "/1"
	dcos := &Dcos{
		ClusterURL:        clusterUrl,
		AuthToken:         "token",
		Agents:            []string{"127.0.0.1"},
		FileSystemMounts:  []string{"/", "/boot"},
		NetworkInterfaces: []string{"lo", "docker0"},
	}
	var acc testutil.Accumulator
	require.NoError(t, dcos.Gather(&acc))
	//there must be 10 measurements for  node 1 (node 2 is filtered) (6*varioous system metrics+2*filesystem per each node (filetered 2 of 4) +2*network (filtered 2 of 11 for node 1, 2 of 9 for node 2)) + 4 measurements per each container (4) + 1 containter app metric
	assert.Equal(t, acc.NMetrics(), uint64(27))

	tagsNode := map[string]string{
		"mesos_id":    "b0da75eb-bbe7-4ad9-80a2-582890b16a1b-S0",
		"cluster_id":  "2f4b3291-ee34-4779-b7bd-015f6594e9c0",
		"hostname":    "127.0.0.1",
		"cluster_url": clusterUrl,
		"scope":       "node",
		"path":        "/",
	}
	fieldsNode := map[string]interface{}{
		"capacity_total_bytes": 53660876800.,
		"capacity_used_bytes":  3048071168.,
		"capacity_free_bytes":  50612805632.,
		"inode_total_count":    26214400.,
		"inode_used_count":     111584.,
		"inode_free_count":     26102816.,
	}

	acc.AssertContainsTaggedFields(t, "dcos_filesystem", fieldsNode, tagsNode)

	tagsNode["path"] = "/boot"
	fieldsNode = map[string]interface{}{
		"capacity_total_bytes": 1063256064.,
		"capacity_used_bytes":  144031744.,
		"capacity_free_bytes":  919224320.,
		"inode_total_count":    524288.,
		"inode_used_count":     328.,
		"inode_free_count":     523960.,
	}
	acc.AssertContainsTaggedFields(t, "dcos_filesystem", fieldsNode, tagsNode)

	tagsNode["path"] = "/var/lib/docker/overlay"
	fieldsNodeNot := map[string]interface{}{
		"capacity_total_bytes": 53660876800.,
		"capacity_used_bytes":  3048071168.,
		"capacity_free_bytes":  50612805632.,
		"inode_total_count":    26214400.,
		"inode_used_count":     111584.,
		"inode_free_count":     26102816.,
	}
	assertAccumulatorDoesNotIncludesTaggedFields(t, &acc, "dcos_filesystem", fieldsNodeNot, tagsNode)
	tagsNode["path"] = "/home"
	assertAccumulatorDoesNotIncludesTaggedFields(t, &acc, "dcos_filesystem", fieldsNodeNot, tagsNode)

	delete(tagsNode, "path")

	fieldsNode = map[string]interface{}{
		"in_bytes":          338336992.,
		"out_bytes":         338336992.,
		"in_packets_count":  161857.,
		"out_packets_count": 161857.,
		"in_dropped_count":  0.,
		"out_dropped_count": 0.,
		"in_errors_count":   0.,
		"out_errors_count":  0.,
	}
	tagsNode["interface"] = "lo"

	acc.AssertContainsTaggedFields(t, "dcos_network", fieldsNode, tagsNode)

	fieldsNode = map[string]interface{}{
		"in_bytes":          2068.,
		"out_bytes":         0.,
		"in_packets_count":  31.,
		"out_packets_count": 0.,
		"in_dropped_count":  0.,
		"out_dropped_count": 0.,
		"in_errors_count":   0.,
		"out_errors_count":  0.,
	}
	tagsNode["interface"] = "docker0"

	acc.AssertContainsTaggedFields(t, "dcos_network", fieldsNode, tagsNode)

	tagsNode["interface"] = "spartan"
	assertAccumulatorDoesNotIncludesTaggedFields(t, &acc, "dcos_network", fieldsNodeNot, tagsNode)
	tagsNode["interface"] = "d-dcos"
	assertAccumulatorDoesNotIncludesTaggedFields(t, &acc, "dcos_network", fieldsNodeNot, tagsNode)
	tagsNode["interface"] = "enp0s3"
	assertAccumulatorDoesNotIncludesTaggedFields(t, &acc, "dcos_network", fieldsNodeNot, tagsNode)
	tagsNode["interface"] = "enp0s8"
	assertAccumulatorDoesNotIncludesTaggedFields(t, &acc, "dcos_network", fieldsNodeNot, tagsNode)
	tagsNode["interface"] = "minuteman"
	assertAccumulatorDoesNotIncludesTaggedFields(t, &acc, "dcos_network", fieldsNodeNot, tagsNode)
	tagsNode["interface"] = "vtep1024"
	assertAccumulatorDoesNotIncludesTaggedFields(t, &acc, "dcos_network", fieldsNodeNot, tagsNode)
	tagsNode["interface"] = "dummy0"
	assertAccumulatorDoesNotIncludesTaggedFields(t, &acc, "dcos_network", fieldsNodeNot, tagsNode)
	tagsNode["interface"] = "veth7134f20"
	assertAccumulatorDoesNotIncludesTaggedFields(t, &acc, "dcos_network", fieldsNodeNot, tagsNode)
	tagsNode["interface"] = "veth0a57a71"
	assertAccumulatorDoesNotIncludesTaggedFields(t, &acc, "dcos_network", fieldsNodeNot, tagsNode)
}

func TestGatherErrors(t *testing.T) {
	clusterUrl := "http://" + remotePathsTestServer.Listener.Addr().String() + "/2"
	dcos := &Dcos{
		ClusterURL:        clusterUrl,
		AuthToken:         "token",
		Agents:            []string{},
		FileSystemMounts:  []string{"/", "/boot"},
		NetworkInterfaces: []string{"lo", "docker0"},
	}
	var acc testutil.Accumulator
	err := dcos.Gather(&acc)
	require.NoError(t, err)
	assert.Len(t, acc.Errors, 3, "There should be 3 errors")
	//10 filtered metrics for node 1 (node2 missing) +3*containers (1 valid missing)
	assert.Equal(t, acc.NMetrics(), uint64(22))
}

func TestNoSlaves(t *testing.T) {
	clusterUrl := "http://" + remotePathsTestServer.Listener.Addr().String() + "/4"
	dcos := &Dcos{
		ClusterURL:        clusterUrl,
		AuthToken:         "token",
		Agents:            []string{},
		FileSystemMounts:  []string{"/", "/boot"},
		NetworkInterfaces: []string{"lo, docker0"},
	}
	var acc testutil.Accumulator
	err := dcos.Gather(&acc)
	require.Error(t, err)
	assert.Contains(t, err.Error(), "any running slave")
}

func TestConfigError(t *testing.T) {
	var timeout internal.Duration
	timeout.Duration = time.Second
	dcos := &Dcos{
		Agents:            []string{},
		FileSystemMounts:  []string{"/", "/boot"},
		NetworkInterfaces: []string{"lo, docker0"},
		ResponseTimeout:   timeout,
	}
	var acc testutil.Accumulator
	err := dcos.Gather(&acc)
	require.Error(t, err)
	assert.Contains(t, err.Error(), "cluster_url")
	assert.Contains(t, err.Error(), "timeout")
}

func TestGatherUnauthorized(t *testing.T) {
	clusterUrl := "http://" + remotePathsTestServer.Listener.Addr().String() + "/3"
	dcos := &Dcos{
		ClusterURL:        clusterUrl,
		AuthToken:         "token",
		Agents:            []string{},
		FileSystemMounts:  []string{"/", "/boot"},
		NetworkInterfaces: []string{"lo, docker0"},
	}
	var acc testutil.Accumulator
	err := dcos.Gather(&acc)
	require.Error(t, err)
	assert.Contains(t, err.Error(), "Authentication")
}

func assertAccumulatorDoesNotIncludesTaggedFields(t *testing.T, a *testutil.Accumulator, measurement string, fields map[string]interface{}, tags map[string]string) {
	a.Lock()
	defer a.Unlock()
	for _, p := range a.Metrics {
		if !reflect.DeepEqual(tags, p.Tags) {
			continue
		}

		if p.Measurement == measurement {
			for f := range fields {
				if vf, ok := p.Fields[f]; ok {
					msg := fmt.Sprintf("Found field %s with value %v in a measurement %s with tags %v", f, vf, measurement, tags)
					assert.Fail(t, msg)
				}
			}
		}
	}
}

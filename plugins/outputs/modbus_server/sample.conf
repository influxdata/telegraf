[[outputs.modbus_server]]
  server_address = "tcp://localhost:502"
  byte_order = "ABCD"
  timeout = 30
  max_clients = 5
  [[outputs.modbus_server.metrics]]
    measurement = "measurement1"
    fields = [
      { register = "coil", address = 0, name = "field1"},
      { register = "holding", address = 50000, name = "float_field", type = "FLOAT32" },
      { register = "holding", address = 50001, name = "bit_field0", type = "BIT", bit = 0},
      { register = "holding", address = 50001, name = "bit_field1", type = "BIT", bit = 1},
      { register = "holding", address = 50001, name = "bit_field2", type = "BIT", bit = 2},
      { register = "holding", address = 50001, name = "bit_field3", type = "BIT", bit = 3},
      { register = "holding", address = 50001, name = "bit_field4", type = "BIT", bit = 4},
      { register = "holding", address = 50001, name = "bit_field5", type = "BIT", bit = 5},
      { register = "holding", address = 50001, name = "bit_field6", type = "BIT", bit = 6},
      { register = "holding", address = 50001, name = "bit_field7", type = "BIT", bit = 7},
      { register = "holding", address = 50001, name = "bit_field8", type = "BIT", bit = 8},
      { register = "holding", address = 50001, name = "bit_field9", type = "BIT", bit = 9},
      { register = "holding", address = 50001, name = "bit_field10", type = "BIT", bit = 10},
      { register = "holding", address = 50001, name = "bit_field11", type = "BIT", bit = 11},
      { register = "holding", address = 50001, name = "bit_field12", type = "BIT", bit = 12},
      { register = "holding", address = 50001, name = "bit_field13", type = "BIT", bit = 13},
      { register = "holding", address = 50001, name = "bit_field14", type = "BIT", bit = 14},
      { register = "holding", address = 50001, name = "bit_field15", type = "BIT", bit = 15},
    ]
    [outputs.modbus_server.metrics.tags]
      tag1 = "value1"
      tag2 = "value2"
  [[outputs.modbus_server.metrics]]
    measurement = "measurement2"
    fields = [
      { register = "holding", address = 40000, name = "float_field", type = "FLOAT32" },
      { register = "holding", address = 40002, name = "string_field", type = "STRING", length = 10 },
    ]
    [outputs.modbus_server.metrics.tags]
      tag3 = "3"
